"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[45],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(a),m=r,h=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return a?n.createElement(h,i(i({ref:t},s),{},{components:a})):n.createElement(h,i({ref:t},s))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8933:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return s},default:function(){return d}});var n=a(3117),r=a(102),o=(a(7294),a(3905)),i=["components"],l={},p="\ud83d\udc69\ud83c\udffc\u200d\ud83d\udcbb How to apply to run a Calamari collator",c={unversionedId:"collator/HowToApply",id:"collator/HowToApply",title:"\ud83d\udc69\ud83c\udffc\u200d\ud83d\udcbb How to apply to run a Calamari collator",description:"Meet or surpass the hardware and infrastructure requirements",source:"@site/docs/collator/HowToApply.md",sourceDirName:"collator",slug:"/collator/HowToApply",permalink:"/docs/collator/HowToApply",editUrl:"https://github.com/Manta-Network/docs/edit/main/docs/collator/HowToApply.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"\ud83e\udde9  Community Collator Program",permalink:"/docs/collator/CommunityCollatorProgram"},next:{title:"\ud83d\ude84 Setup and run a Calamari collator",permalink:"/docs/collator/SetupAndRun"}},s=[{value:"Meet or surpass the hardware and infrastructure requirements",id:"meet-or-surpass-the-hardware-and-infrastructure-requirements",children:[],level:2},{value:"Bonding requirement",id:"bonding-requirement",children:[],level:2},{value:"Fill in the application form",id:"fill-in-the-application-form",children:[],level:2}],u={toc:s};function d(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-how-to-apply-to-run-a-calamari-collator"},"\ud83d\udc69\ud83c\udffc\u200d\ud83d\udcbb How to apply to run a Calamari collator"),(0,o.kt)("h2",{id:"meet-or-surpass-the-hardware-and-infrastructure-requirements"},"Meet or surpass the hardware and infrastructure requirements"),(0,o.kt)("p",null,"a. Running on your own hardware and within you own premises (preference is given to independently operated, private collator nodes, because it directly facilitates the vision of optimum decentralization):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"collator system host (note that a substrate collator will utilize all available system ram and all available cpu cores unless specifically configured not to do so)"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"cpu: 8 cores"),(0,o.kt)("li",{parentName:"ul"},"memory: 32 gb of ram (more is better)"),(0,o.kt)("li",{parentName:"ul"},"disk space: 500 gb of disk space dedicated to the blockchain basepath (more is better)"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"infrastructure and environment"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"network bandwidth: 100 mbps+")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"internet-accessible ports:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"31333"),": default calamari peer-to-peer port"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"31334"),": default (embedded-relay) kusama peer-to-peer port"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"9615"),": default calamari metrics port"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"9616"),": default (embedded-relay) kusama metrics port")),(0,o.kt)("p",{parentName:"li"},"you should monitor your own collator using the techniques described on the ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.polkadot.network/docs/maintain-guides-how-to-monitor-your-node"},"polkadot wiki"),". the metrics exposed on ports 9615 and 9616 facilitate this, so these ports should be accessible both from your own prometheus/alertmanager server (which should be configured to alert you) and manta devops' ",(0,o.kt)("a",{parentName:"p",href:"https://pulse.pelagos.systems"},"pulse server")," at ",(0,o.kt)("inlineCode",{parentName:"p"},"18.156.192.254")," (monitored by manta devops).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"an uninterrupted power supply to both the collator node and the network switches and routers that provide its connectivity must be capable of keeping the system online during provider power outages")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"a failover 4g or 5g router should be included in your network topology to provide connectivity in the event of a wired or fibre connection failure")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"your network management should include automatic dns updates in the event of changes to your nodes publicly accessible ip addressing"))))),(0,o.kt)("p",null,"b. Running on AWS EC2"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"instance type: r5ad.xlarge or similar"),(0,o.kt)("li",{parentName:"ul"},"image: Ubuntu 20.04 (latest ubuntu server ami from Canonical/099720109477)")),(0,o.kt)("p",null,"c. Azure/GCP or other cloud/datacenter provider"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Please use your judgement to match or surpass the requirements for other environments above")),(0,o.kt)("h2",{id:"bonding-requirement"},"Bonding requirement"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"400_000")," (four hundred thousand) KMA will be bonded and is not transferable whilst collating. Ensure the same account always has a small ",(0,o.kt)("em",{parentName:"p"},"free")," balance above the bonded amount to account for transaction fees of the registration process. This should normally be covered by leaving a free balance of 20 KMA available. In practice, the fees are much smaller, but not zero."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"A ",(0,o.kt)("strong",{parentName:"p"},"free")," balance of ",(0,o.kt)("inlineCode",{parentName:"p"},"400_000")," KMA must be maintained at all times during the application process. Special care should be taken with participation in voting to prevent locking any part of the candidacy bond."),(0,o.kt)("p",{parentName:"div"},"When voting, the ",(0,o.kt)("em",{parentName:"p"},"vote value")," should be for an amount less than the free account balance, minus the candidacy bond. for example: a collator account with a free balance of ",(0,o.kt)("inlineCode",{parentName:"p"},"400_100")," KMA, should set the ",(0,o.kt)("em",{parentName:"p"},"vote value")," to an amount less than ",(0,o.kt)("inlineCode",{parentName:"p"},"100")," KMA to prevent locking any portion of the collator bond, which would cause a ",(0,o.kt)("inlineCode",{parentName:"p"},"collatorselection(NewDesiredCandidates)")," call to fail with a ",(0,o.kt)("inlineCode",{parentName:"p"},"LiquidityRestrictions")," exception."))),(0,o.kt)("p",null,"You can always check the current candidacy bond amount on ",(0,o.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fws.calamari.systems%2F#/chainstate"},"calamari")," ",">"," collatorSelection ",">"," candidacyBond(): u128.\n",(0,o.kt)("img",{alt:"Candidacy Bond",src:a(9968).Z,width:"1274",height:"480"})),(0,o.kt)("h2",{id:"fill-in-the-application-form"},"Fill in the application form"),(0,o.kt)("p",null," Please complete the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/forms/d/e/1FAIpQLScizDDMq7jWeOPVVEMr3EY_Z6N6ugdkL8aKgAbZ9lAJX6DEOQ/viewform"},"collator application form"),"."))}d.isMDXComponent=!0},9968:function(e,t,a){t.Z=a.p+"assets/images/candidacy-bond-16ca4fd315f45eef2d3faf0bb4fade3a.png"}}]);